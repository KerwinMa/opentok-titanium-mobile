# Session

A Session object can be thought of as a collection of streams on which you may operate (publish or subscribe), or more simply as a "room". 
You can construct this object using [opentok.createSession(props)](opentok.md#createsessionprops). A [sessionId can be dynamically created](http://www.tokbox.com/opentok/api/tools/js/documentation/overview/session_creation.html) by your backend web service.
This object is analogous to the [JS API Session](http://www.tokbox.com/opentok/api/tools/js/documentation/api/Session.html) object.

<nav>
  <table>
    <tr>
      <th>Methods</th>
      <th>Properties</th>
      <th>Events</th>
    </tr>
    <tr>
      <td><a href="#connectapikey-token">connect(apiKey, token)</a></td>
      <td><a href="#sessionid">sessionId</a></td>
      <td><a href="#sessionconnected">sessionConnected</a></td>
    </tr>
    <tr>
      <td><a href="#disconnect">disconnect()</a></td>
      <td><a href="#streams">streams</a></td>
      <td><a href="#sessiondisconnected">sessionDisconnected</a></td>
    </tr>
    <tr>
      <td><a href="#publishprops">publish(props)</a></td>
      <td><a href="#sessionconnectionstatus">sessionConnectionStatus</a></td>
      <td><a href="#sessionfailed">sessionFailed</a></td>
    </tr>
    <tr>
      <td><a href="#unpublish">unpublish()</a></td>
      <td><a href="#connectioncount">connectionCount</a></td>
      <td><a href="#streamcreated">streamCreated</a></td>
    </tr>
    <tr>
      <td><a href="#subscribestream-props">subscribe(stream, props)</a></td>
      <td><a href="#environment">environment</a></td>
      <td><a href="#streamdestroyed">streamDestroyed</a></td>
    </tr>
  </table>
</nav>

## Methods

### connect(_apiKey_, _token_)

Connect to an OpenTok session. This must be done before you can do anything else with a session.

*  Parameters:
    * __apiKey__ (String) _required_ - OpenTok API Key. Get one [here](http://www.tokbox.com/opentok/api/tools/js/apikey)
    * __token__ (String) _required_ - User Token. This is generated by a server-side SDK.
*  Return - void

### disconnect()

Disconnect to an OpenTok session.

*  Return - void

### publish(_props_)

Begin publishing video data from the device's camera to the Session.

*  Parameters:
    *  __props__ (Dictionary):
        * __name__ (String) _optional_ - A name for the stream being created in the Session. The name is readable to others connected to the Session. Defaults to device name.
        * __publishAudio__ (Boolean) _optional_ - Whether or not the publisher sends audio. Defaults to true.
        * __publishVideo__ (Boolean) _optional_ - Whether or not the publisher sends video. Defaults to true.
*  Return - (Publisher)

### unpublish()

Stop publishing to the session.

*  Return - void

### subscribe(_stream_, _props_)

Begin receiving video data from another device's camera who is publishing to the Session.

*  Parameters:
    *  __stream__ (Stream) _required_ - A Stream object that refers to the video data from another device.
    *  __props__ (Dictionary) _optional_:
        * __subscribeToAudio__ (Boolean) _optional_ - Whether or not to subscribe to the audio data. Defaults to true.
        * __subscribeToVideo__ (Boolean) _optional_ - Whether or not to subscribe to the video data. Defaults to true.
*  Return - (Subscriber)

## Properties

### sessionId

(String) The Session ID for this Session object. This is only writable before _session.connect(apiKey, token)_ is called.

### streams

(Array<Stream>) A collection of all the Streams currently in the Session. _Read Only_

### sessionConnectionStatus

(String) The state of the session. Possible values: "connected", "connecting", "disconnected", "failed". _Read Only_

### connectionCount

(Number) The number of connections in the Session. _Read Only_

### environment

(String) The OpenTok environment that the session will connect to. This is only writable when the _sessionConnectionStatus_ is "disconnected".

## Events

### "sessionConnected"

This event is fired when the _session.connect(props)_ call has resulted in a successful connection.

### "sessionDisconnected"

This event is fired when the _session.disconnect(props)_ call has completed.

### "sessionFailed"

This event is fired when a session is disconnected for any reason other than a call to _session.disconnect(props)_

*  TODO: Describe how to read error description

### "streamCreated"

This event is fired when a new stream is available in the session. This happens when a connected device (this device or others) publishes.

*  Event Properties:
    *  event.stream (Stream) - The stream that was just created.

### "streamDestroyed"

This event is fired when a stream leaves a session. This can happen when a publishing device (this one or others) unpublishes or disconnects.

*  Event Properties:
    *  event.stream (Stream) - The stream that was just destroyed.

