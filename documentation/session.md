# Session

<nav>
  <table>
    <tr>
      <th>Methods</th>
      <th>Properties</th>
      <th>Events</th>
    </tr>
    <tr>
      <td><a href="#sessionconnectapikey-token">connect(apiKey, token)</a></td>
      <td><a href="#sessionsessionid">sessionId</a></td>
      <td><a href="#sessionconnected">sessionConnected</a></td>
    </tr>
    <tr>
      <td><a href="#sessiondisconnect">disconnect()</a></td>
      <td><a href="#sessionstreams">streams</a></td>
      <td><a href="#sessiondisconnected">sessionDisconnected</a></td>
    </tr>
    <tr>
      <td><a href="#sessionpublishprops">publish(props)</a></td>
      <td><a href="#sessionsessionconnectionstatus">sessionConnectionStatus</a></td>
      <td><a href="#sessionfailed">sessionFailed</a></td>
    </tr>
    <tr>
      <td><a href="#sessionunpublish">unpublish()</a></td>
      <td><a href="#sessionconnectioncount">connectionCount</a></td>
      <td><a href="#streamcreated">streamCreated</a></td>
    </tr>
    <tr>
      <td><a href="#sessionsubscribestream-props">subscribe(stream, props)</a></td>
      <td><a href="#sessionenvironment">environment</a></td>
      <td><a href="#streamdestroyed">streamDestroyed</a></td>
    </tr>
  </table>
</nav>

## Methods

### _session.connect(apiKey, token)_

Connect to an OpenTok session. This must be done before you can do anything else with a session.

*  Parameters:
    * __apiKey__ (String) _required_ - OpenTok API Key. Get one [here](http://www.tokbox.com/opentok/api/tools/js/apikey)
    * __token__ (String) _required_ - User Token. This is generated by a server-side SDK.
*  Return - void

### _session.disconnect()_

Disconnect to an OpenTok session.

*  Return - void

### _session.publish(props)_

Begin publishing video data from the device's camera to the Session.

*  Parameters:
    *  __props__ (Object):
        * __name__ (String) _optional_ - A name for the stream being created in the Session. The name is readable to others connected to the Session. Defaults to device name.
        * __publishAudio__ (Boolean) _optional_ - Whether or not the publisher sends audio. Defaults to true.
        * __publishVideo__ (Boolean) _optional_ - Whether or not the publisher sends video. Defaults to true.
*  Return - (Publisher)

### _session.unpublish()_

Stop publishing to the session.

*  Return - void

### _session.subscribe(stream, props)_

Begin receiving video data from another device's camera who is publishing to the Session.

*  Parameters:
    *  __stream__ (Stream) _required_ - A Stream object that refers to the video data from another device.
    *  __props__ (Object) _optional_:
        * __subscribeToAudio__ (Boolean) _optional_ - Whether or not to subscribe to the audio data. Defaults to true.
        * __subscribeToVideo__ (Boolean) _optional_ - Whether or not to subscribe to the video data. Defaults to true.
*  Return - (Subscriber)

## Properties

### _session.sessionId_

(String) The Session ID for this Session object. This is only writable before _session.connect(apiKey, token)_ is called.

### _session.streams_

(Array<Stream>) A collection of all the Streams currently in the Session. _Read Only_

### _session.sessionConnectionStatus_

(String) The state of the session. Possible values: "connected", "connecting", "disconnected", "failed". _Read Only_

### _session.connectionCount_

(Number) The number of connections in the Session. _Read Only_

### _session.environment_

(String) The OpenTok environment that the session will connect to. This is only writable when the _sessionConnectionStatus_ is "disconnected".

## Events

### _sessionConnected_

This event is fired when the _session.connect(props)_ call has resulted in a successful connection.

### _sessionDisconnected_

This event is fired when the _session.disconnect(props)_ call has completed.

### _sessionFailed_

This event is fired when a session is disconnected for any reason other than a call to _session.disconnect(props)_

*  TODO: Describe how to read error description

### _streamCreated_

This event is fired when a new stream is available in the session. This happens when a connected device (this device or others) publishes.

*  Event Properties:
    *  event.stream (Stream) - The stream that was just created.

### _streamDestroyed_

This event is fired when a stream leaves a session. This can happen when a publishing device (this one or others) unpublishes or disconnects.

*  Event Properties:
    *  event.stream (Stream) - The stream that was just destroyed.

